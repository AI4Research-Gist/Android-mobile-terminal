# AI4Research

## PRD

### User Story

#### Epic 1：手机端信息采集 & 一键送上云端（论文 & 非论文通用入口）

##### Story 1：从微信公众号 / 浏览器一键剪藏科研相关内容

+ 晚上 10 点，你躺在床上刷微信，看到了某老师的公众号推文《近期 LoRA 容量相关工作整理》，感觉和自己的课题高度相关，但现在没精力细看、也不在电脑前。过去你的做法是：先收藏、再截几张图、过几天在电脑上手动查对应论文，过程很麻烦，也常常彻底忘记这条推文。
  - **作为** 一名经常通过公众号、网页获取科研相关信息的研究生
  - **我希望** 在看到一篇可能有用的推文 / 博客 / arXiv 网页时，可以通过系统“分享”一键发送到本 App
  - **从而** 无需手动复制标题、链接或截图发到电脑，云端就能自动接收并启动后续解析与整理流程（识别论文 / 比赛 / 启发性文章等）

##### Story 2：截图 / 图片中的论文或技术内容一键采集

+ **场景示例：**
   你在学术报告现场拍下几张 PPT，PPT 上有论文标题、模型结构图和一些关键公式。回到宿舍后，你完全不想一个字一个字敲论文题目去搜，只希望“扔进去，有人帮我找出这几张图对应的论文和关键词”。
  - **作为** 一名在会场、朋友圈、群聊中经常看到论文截图、模型图的用户
  - **我希望** 能在手机端直接选择一张截图 / 照片，App 自动进行 OCR 和初步解析
  - **从而** 识别出其中的论文标题、作者、会议名称或关键技术词，把这些信息统一送到云端，加入我的科研信息流，而不用我手工抄写和搜索

#### Epic 2：云端 AI 处理结果 → 在手机端查看、筛选与轻量操作

##### Story 3：在手机端查看“文献卡片”（结构化的论文结果）

- **场景示例：**
   第二天早上你坐地铁去实验室，打开 App，看到昨晚分享到云端的几条内容都变成了“文献卡片”：每张卡片上有标题、作者、出处、年份、关键词和一小段 AI 写的“一句话摘要”。你在地铁上扫一遍，大概知道哪两篇值得晚上回去精读，哪一篇只是背景知识。
  - **作为** 一名科研用户
  - **我希望** 在手机端能看到云端已经处理完成的“文献卡片列表”：包括标题、作者、出处、年份、关键词、简短 AI 摘要
  - **从而** 利用碎片时间快速判断一堆新进来的论文“值不值得花时间深入看”，而不是只在收藏夹里看到一堆冷冰冰的链接

##### Story 4：在手机端查看每篇论文的“五点法”分析

+ **场景示例：**
   你准备下周汇报 LoRA 相关工作，在公交上打开某篇重要论文的详情页，App 上已经显示出云端生成的“五点法”：研究问题、方法、关键技术点、局限性、对你当前 LoRA 容量课题的启发。你一边看一边在脑子里对比自己现有思路，回到实验室后可以直接根据这些梳理 PPT 结构。
  - **作为** 一名需要写调研报告和相关工作章节的研究生
  - **我希望** 对每篇文献，手机端可以显示云端生成的“五点法分析”（问题 / 方法 / 关键技术点 / 局限性 / 对我课题的启发）
  - **从而** 我在通勤或空闲时就能完成“理解 + 梳理”的一大部分工作，写综述时几乎不需要从零开始重新整理

##### Story 5：查看云端生成的“启发性文章精华 + 小 checklist”

+ **场景示例：**
   周末你在床上刷到一篇《如何系统读论文》或《博士阶段时间管理心得》，当时觉得很有帮助，就分享到了 App。几小时后你打开 App，看到这篇文章已经被云端总结为：3 条核心观点 + 3 条可以直接执行的小建议（比如“为每篇论文写 5 点总结”“每天固定一段无打扰时间读文章”）。下周你真的要规划自己的时间时，可以直接打开这张卡片照着做。
  - **作为** 一名希望把公众号上的科研方法、经验贴真正转化为行动的学生
  - **我希望** 云端能将这些启发性长文提炼成“精华卡片”：几条核心观点 + 几条可执行 checklist，并在手机端清晰展示
  - **从而** 当我要调整学习方式或时间管理时，可以直接翻这些精华卡片，而不用再去重读几千字的长文

##### Story 6：在手机端确认 / 调整项目归属与阅读优先级

+ **场景示例：**
   你同时在做“LoRA 容量”和“在轨软件重构”两个方向。云端 AI 为新进来的文献给出了“推荐归属：LoRA 容量（0.86），相关标签：adapter、capacity、knowledge interference”，在手机端你只需要点一下确认或改成另一个项目，同时顺手标记这篇是“精读”还是“略读”。
  - **作为** 一名同时推进多个科研子课题的研究者
  - **我希望** 在手机端看到每篇新文献的“AI 推荐项目归属”和“推荐标签”，并可以一键确认/修改，同时设置“精读 / 略读 / 仅收藏”和“未读 / 在读 / 已读”
  - **从而** 用极低的操作成本就能维持整个文献库的结构化组织和阅读优先级，为后续检索、写作、规划节省大量时间

#### Epic 3：端侧轻量模型提供即时阅读辅助（本地低延迟）

##### Story 7：在手机端划词即时总结 / 解释一段复杂内容

+ **场景示例：**
   你在地铁上用 App 打开一篇论文引言，里面有一段长长的英文描述模型动机，看得有点晕。这时你长按选中这一段，点“本地速览”，一秒左右就弹出一句更通俗的中文解释，让你大致知道这段在说什么。等回到实验室，再用电脑仔细分析细节。
  - **作为** 一名经常在手机上阅读长篇技术内容的用户
  - **我希望** 在 App 内选择一段文字时，能通过手机端轻量模型立刻获得一个简短总结或通俗解释（弱网甚至离线也可用）
  - **从而** 在碎片时间也能“看懂个大概”，不必等回到电脑才开始理解

#### Epic 4：语音 / 会议 / 灵感捕捉 → 端侧初整理 + 云端深加工

##### Story 8：走路时用语音记录科研灵感并立刻整理成要点

+ **场景示例：**
   你从食堂走回实验室，路上突然想到一个“LoRA 容量实验可以加多模态对比”的新想法，但身上没有电脑，也懒得打字。你打开 App，按住录音按钮，说了 20 秒。放开之后，本地模型立刻把它整理成 3 条 bullet（实验变量、需要的数据、可能的评估指标），你确认无误后保存为“LoRA 项目下的新 idea”。
  - **作为** 一名经常在走路、通勤、排队时冒出科研想法的学生
  - **我希望** 能在手机端快速录一段语音，由本地轻量模型将其转成简洁的要点草稿
  - **从而** 即使在弱网环境下也能先“抓住并初步整理”这个想法，而不是回头就忘

##### Story 9：组会录音自动变为会议纪要 + 待办事项

+ **场景示例：**
   组会时导师和同学密集讨论了 40 分钟，你一边听一边记不全所有结论。会后你把手机录的音频上传到 App，云端 AI 帮你整理出：会议时间、参与人名单、讨论要点，以及 4 条“需要你负责的任务”（带简单 ddl 建议），在手机端呈现成一个清晰的纪要页面，方便你随时翻和勾选完成状态。
  - **作为** 一名经常参加组会、项目评审的学生
  - **我希望** 通过手机录音并上传到云端，让 AI 自动整理会议纪要（时间、参与人、主要结论）和结构化 TODO 列表，在手机端展示并可编辑
  - **从而** 避免“会开完了只记得大概方向，却忘了具体要做什么”的情况，把每次会议都转化为可追踪的后续行动

#### Epic 5：在手机端与“我的文献库和项目”对话

##### Story 10：在文献详情页向 AI 提问，获得结合项目的回答

+ **场景示例：**
   你在床上看一篇新论文的五点法，觉得“方法部分有点抽象，和我自己的 LoRA 实验到底差在哪”。你在该文献详情页的问答区输入：“它和我之前那篇 NAACL 工作的主要区别是什么？对我接下来的实验设计有啥启发？” 云端 LLM 结合两篇论文和当前项目状态，给你列出 3 条主要差异和 2 条建议。
  - **作为** 一名在手机上阅读文献卡片的研究生
  - **我希望** 能在某篇文献详情页下直接向 AI 提问（对比、解释、启发），由云端 LLM 基于该文献 + 我项目上下文给出回答
  - **从而** 在碎片时间里也能完成“对比思考和方案调整”，而不是仅停留在“知道这篇论文大概做了什么”

#### Epic 6：非论文内容（比赛 & 启发性文章）的代表性场景

##### Story 11：比赛通知推文自动变成“竞赛卡片 + 时间线”

+ **场景示例：**
   你在学校研工部公众号里看到《XX 人工智能创新大赛通知》，扫了一眼觉得方向还不错，但当下只想先记住有这么个机会。你一键分享到 App，第二天在手机里打开“比赛”页面，看到这条已经被解析为一张“竞赛卡片”：上面写着比赛名称、主办方、简介，以及自动识别出的“报名截止 / 提交作品 / 答辩”时间轴，你顺手开了报名截止的提醒。
  - **作为** 一名经常通过公众号获取比赛信息、但容易忘记 ddl 的学生
  - **我希望** 把比赛推文一键分享到 App 后，云端能自动抽取名称、主办方、主题、关键时间和链接，并在手机端显示为一张带时间线的竞赛卡片
  - **从而** 我不需要手动记时间、截图存档，而可以在需要规划比赛/科研安排时随时翻看清晰的比赛信息和 ddl

##### Story 12：启发性文章沉淀成“方法论/心态”资源，和项目挂钩

+ **场景示例：**
   你刷到一篇《如何在博士期间建立稳定的科研节奏》的长文，里头有不少关于时间块管理、如何安排读论文/写代码的小建议。你分享给 App 后，几小时后在“启发”页面看到一张新卡片：总结了 4 条核心观点和 3 条行动建议。你觉得其中两条和“在轨软件重构项目”非常契合，就在手机里把它们挂到了这个项目并加上备注：“写当前技术总结报告时要注意”。
  - **作为** 一名希望长期积累科研方法和心态调节策略的学生
  - **我希望** 对这些启发性公众号文章，云端能提炼出核心观点和行动建议，手机端以卡片形式展示，并允许我将某些建议挂接到具体项目或能力标签
  - **从而** 在做具体项目、写具体报告或遇到状态波动时，可以回到这些有针对性的“方法论资源”，而不是让有价值的启发淹没在历史消息里

## 整体大纲

+ 开发规划概要
  + 现在要做：手机端 App + 支撑它的云端 MVP
  + 未来规划：PC 端 + Zotero 生态，只做接口预留和规划，不马上开发

  ------
## 一、整体产品蓝图

### 1.1 产品定位

> 面向科研工作者的「三端一体化个人科研中枢」：
>  手机端负责信息入口、灵感捕捉和轻量查看；
>  云端负责 AI/LLM/Agent 重处理和数据存储；
>  PC 端负责深度整合、写作与和现有科研工具（如 Zotero）协同。

### 1.2 目标用户

- 典型用户画像：
  - 硕/博研究生，尤其是信息/计算机/自动化等方向；
  - 有多个科研项目并行（论文方向 + 比赛/工程项目）；
  - 日常科研信息输入高度依赖：
    - 微信公众号/朋友圈/群聊链接/小红书/知乎；
    - arXiv/博客/技术论坛；
    - 线下 PPT、海报告、组会录音；
  - 主要痛点：
    - 信息入口分散（微信、浏览器、截图、录音…）；
    - 论文/比赛/启发内容难以统一管理；
    - 文献库与“具体项目/任务”脱节；
    - 手机端碎片时间无法高效为科研服务。

### 1.3 核心价值主张

- 手机端
- 看到任何科研相关内容（论文、比赛、经验贴、技术文档），一键扔进来，自动变成结构化 ‘资源卡片 + 项目挂接 + 行动建议’。
- 云端
- 把非结构化的网页/图片/音频，转成标准的文献卡片、竞赛卡片、启发卡片、会议纪要、任务列表，并统一存储和检索。
- PC 端（未来）
- 成为你日常写代码、写论文、做图时的控制台：从个人科研知识库中拉文献、拉比赛、拉启发内容，和 Zotero/Overleaf 等无缝协作。
- 三端协同原则
  - **单一事实源**
    - 所有数据（用户、项目、文献、比赛、启发卡片、会议纪要）都以云端为唯一真源。
  - **端侧职责清晰**
    - 手机端：采集 + 轻量智能处理 + 友好展示。
    - 云端：LLM/Agent 编排、解析、归类、持久化。
    - PC 端：深度编辑、复杂操作、与外部科研工具打通。
  - **API 优先设计**
    - 云端以统一 API（REST/GraphQL）对手机/PC 开放，早期就预留 PC 端需要的读写能力。

## 二、技术架构与模块划分

### 2.1 三层架构

- **手机端 App**
  - 分享接入模块（系统 Share Extension / Intent）
  - 内容列表 & 卡片视图（文献、比赛、启发）
  - 详情页 & AI 问答 UI
  - 语音录制 / 图片上传
  - 端侧轻量模型（即时总结/翻译/粗分类）
- **云端服务**
  - API 网关 & 鉴权服务
  - Capture/Ingestion 服务（统一入口）
  - 异步任务队列（解析、ASR、LLM 调用）
  - LLM/Agent 编排服务（解析网页/图片/音频，生成卡片与分析）
  - 数据存储层（关系型 DB + 对象存储）
  - 搜索/检索服务（全文 + 语义检索）
- **PC 端（未来）**
  - Web 控制台 / 桌面客户端（Electron 等）
  - 导出与集成模块（BibTeX、Zotero 插件、Markdown 导出）
  - 高级检索与可视化视图（项目视角、时间线视图）

### 2.2 核心数据模型

云端至少要有这些核心实体：

- User（用户）
- Project（科研项目/方向）
- Item（统一的“资源条目”，按 type 细分）
  - type = `paper`：论文文献卡片
  - type = `competition`：竞赛/活动卡片
  - type = `insight`：启发性文章卡片（方法论/经验贴）
  - type = `meeting`：会议记录条目
- Note（结构化笔记，例如“五点法分析”）
- Task（待办/实验计划）
- Attachment（原始网页快照、PDF、图片、音频等）

### 2.3 关键数据流（从手机视角）

1. 手机端分享/上传内容 → 调用「Capture API」
2. 云端生成 Task → 进入解析队列（识别类型、抽取结构、LLM 生成分析）
3. 云端写入 DB → 标记 Task 完成
4. 手机端列表页轮询/刷新 → 展示“文献/比赛/启发卡片”
5. 用户在手机端修改标签、项目、阅读状态 → 直接调用云端更新 API
6. 后续 PC 端从同一 API 拉取相同数据进行深度操作

------

## 三、当前阶段重点：手机端 App + 云端 MVP 需求/开发大纲

> 目标：先做出一个「从微信分享一篇内容 → 云端解析 → 手机看到结构化卡片」的闭环，并支持少量核心扩展（语音灵感、简单启发总结），为后续 PC 端和复杂功能打底。

### 3.1 手机端 App 功能模块（当前阶段重点推进）

#### 3.1.1 信息采集模块

1. **系统分享接入**
   - 接收来自：
     - 微信公众号 / 浏览器 / 其他 App 的「分享链接」
   - 最小表单：
     - 来源 App（可选）
     - URL
     - 标题（可选）
     - 备注（用户可选填，如“LoRA 项目相关”）
   - 点击“确认发送”后：
     - 调用云端 `/capture/url` 接口
     - 本地存一条“待处理条目”，显示状态为「解析中」
2. **图片/截图上传**
   - 源：
     - 从相册选择
     - App 内拍照
   - 上传到 `/capture/image` 接口（附带可选备注、project hint）
3. **语音灵感录制（MVP 版）**
   - 简化：先用系统 ASR 或云端 ASR，端侧不必一开始就集成本地识别；
   - 功能：
     - 录音 → 上传 `/capture/idea_audio` 或先本地转文本再 `/capture/idea_text`；
     - 云端生成 bullet 要点与初步任务建议；
   - UI：
     - 灵感列表页（按照时间排序）；
     - 每条灵感可挂到某个 Project。

#### 3.1.2 资源列表 & 卡片视图

1. **首页 Tab 设计（建议）**
   - Tab1：全部（时间流）
   - Tab2：文献
   - Tab3：比赛
   - Tab4：启发
2. **卡片基础信息**
   - 文献卡片：
     - 标题、作者、会议/期刊、年份
     - 一句话摘要（云端生成）
     - 阅读状态标记（未读/在读/已读）
   - 比赛卡片：
     - 比赛名称、主办方
     - ddl 提示（距离最近的关键日期）
   - 启发卡片：
     - 标题
     - 几条核心观点（可折叠）
3. **筛选与排序**
   - 按项目过滤
   - 按加入时间 / 优先级排序

#### 3.1.3 资源详情页 & 轻量编辑

1. **文献详情**
   - 基本信息（元数据）
   - 五点法分析（云端生成，分区展示）
   - 项目归属（下拉选择 + AI 推荐）
   - 阅读级别选择（精读/略读/仅收藏）
   - 提问入口（简单的问答输入框 → 调用云端 /chat）
2. **比赛详情**
   - 基本信息
   - 关键时间线（报名/提交/答辩）
   - “要不要参加”状态（观望/已组队/已报名/已提交）
   - 一键创建到 Task（未来 PC 端可细化）
3. **启发详情**
   - 核心观点列表
   - 可执行建议 checklist（勾选/未勾选）
   - 挂接到项目/能力标签（下拉 + AI 提示）

#### 3.1.4 端侧轻量模型（先放一个小目标）

MVP 可以这样规划：

- Phase 1：先不强制要求本地模型，相关功能走云端（划词总结/翻译可以先点一下按钮 → 调云端）。
- Phase 2：在用户体验稳定后，引入端侧轻量模型，实现：
  - 划词即时 summary/翻译；
  - 新条目本地粗分类/打标签。

### 3.2 云端服务模块（MVP 需具备）

#### 3.2.1 API 网关与基础设施

- 身份认证：
  - 手机端使用 OAuth2 / JWT 简单鉴权即可；
- 统一入口：
  - `/capture/url`、`/capture/image`、`/capture/text`、`/capture/audio`
  - `/items/list`、`/items/{id}`、`/items/{id}/update`
  - `/chat`（上下文问答） 等

#### 3.2.2 Capture/Ingestion 服务

- 职责：
  - 接收手机端提交的原始内容；
  - 创建解析任务（Task）；
  - 立即返回 `task_id` 和临时 `item_id`（占位）。
- 任务中记录：
  - 原始 payload（URL / HTML / 图片路径 / Text / Audio 路径）；
  - 来源类型（weixin_mp / browser / image / audio 等）；
  - 用户 id、时间、可选 Project hint。

#### 3.2.3 异步解析 + LLM/Agent 编排

按类型拆 pipeline（可在实现时由一个“类型分类 Agent”先判断）：

1. **论文类**
   - URL → 抓取 HTML → 识别是否包含 DOI / arXiv id / 标题；
   - 调外部 API 获取元数据（先用简单方式，后续可扩展）；
   - 调用 LLM：
     - 生成一句话摘要；
     - 生成五点法分析；
   - 调“项目匹配 Agent”给出项目推荐和关键词标签。
2. **比赛类**
   - 分析正文：
     - 抽取：比赛名称、主办、主题、对象、奖项、链接；
     - 利用正则 + LLM 抽取各类时间点；
   - 生成“比赛卡片”。
3. **启发类**
   - 对全文/部分正文调用 LLM：
     - 抽取 3–5 条核心观点；
     - 抽取 2–3 条可执行建议；
   - 挂一个类型为 `insight` 的 item。
4. **语音/会议类**
   - ASR 转文本（可以先用云服务，后续优化）；
   - LLM 解析：
     - 若是灵感：转 bullet + 推荐任务；
     - 若是会议：总结纪要 + TODO 列表。

#### 3.2.4 存储 & 检索

- 存储：
  - PostgreSQL/MySQL（结构化数据）；
  - 对象存储（S3/OSS）存 HTML 快照、图片、音频；
- 检索：
  - 普通搜索：标题/作者/标签/项目；
  - 未来规划：向量检索用于“模糊查那篇论文”。

------

## 四、PC 端应用规划与接口预留（未来方向）

> 当前不实现，但在 API & 建模阶段就要考虑。

### 4.1 PC 端目标

- Web 控制台 / 桌面客户端负责：
  - 批量管理文献/比赛/启发资源；
  - 深度编辑五点法和笔记；
  - 复杂检索（多条件、多项目）；
  - 导出 BibTeX/Markdown/JSON；
  - 与 Zotero、Overleaf 等协同。

### 4.2 需要预留的 API 能力

- 按项目/类型/时间获取 Item 列表；
- 获取/更新 Note（五点法、会议纪要）；
- Task 的创建、状态更新；
- 批量导出/导入接口（特别是文献元数据）。

### 4.3 和 Zotero 生态的集成点（规划）

- 最小集成：
  - 导出所选文献为 BibTeX；
- 高级集成（未来）：
  - 为 Zotero 写插件，调用云端 API 拉取“标记为核心文献”的条目；
  - 在 Zotero 中显示“来自手机端/云端的五点法摘要”。

------

## 五、开发推进与分工

### 5.1 阶段划分

**Milestone 0：技术选型 & 骨架搭建**

- 决定：
  - 手机端技术栈：Flutter / React Native / 原生（二选一即可）；
    - 张润哲
  - 后端：语言（Python）、Web 框架（FastAPI/Spring Boot 等）；
    - 陈熠翎
  - LLM 接入方式：自建/第三方 API；
    - 服务器端
    - 蔡杰浩
      - 自建/API
  - 手机端（服务器选型）
      - 刘琪

- 搭建：
    - 云端基础项目结构；
  - 手机端基础项目结构；
  
  ------

**Milestone 1：闭环 MVP（只针对 URL → 文献/启发卡片）**

目标：验证「分享一条公众号/网页 → 云端解析 → 手机端看到卡片」的完整玩法。

- 手机端：
  - 实现微信/浏览器分享接入；
  - 实现“解析中/已解析”状态的简单列表；
- 文献卡片/启发卡片的基础展示（标题+摘要）。
- 云端：
- `/capture/url` API；
  - 任务队列（可先用简单的 DB 状态轮询）；
- 使用 LLM 将网页粗分类为：paper / insight / other；
  - paper：抽标题+摘要（可先只从 HTML 标题/摘要块里抓）；
  - insight：抽一段简短总结（1–2 句）。

------

**Milestone 2：文献五点法 & 项目归属（论文主线增强）**

- 手机端：
- 文献详情页，展示五点法；
  - 项目列表 + 文献挂接 UI；
- 阅读状态、阅读等级标记。
- 云端：
- 给 paper 型内容生成五点法分析；
  - Project 数据模型 + 文献与项目的关联；
  - “简单”项目匹配（基于关键词/embedding）。

------

**Milestone 3：比赛卡片 & 启发精华（非论文主线）**

- 手机端：
- 比赛列表 & 比赛详情（名称+时间线+状态）；
  
  - 启发卡片详情（观点+行动建议+挂项目）。
  
- 云端：
  - 比赛推文的时间点抽取；
  - 启发文章精华提炼（观点+action items）。

  ------

  **Milestone 4：语音灵感 / 会议纪要（音频主线）**

  - 手机端：
  - 录音功能；
    - 灵感列表 & 会议纪要列表；
  - 简单编辑与项目挂接。
  - 云端：
  - 接收音频 → ASR → Text；
    - 灵感解析（bullet）；
    - 会议纪要解析（summary + TODO）。


------

**Milestone 5（未来）：PC 端 & 高级功能**

- Web 控制台 / 桌面应用；
  
  - 本地轻量模型集成（端侧总结/翻译/粗分类）；
- 与 Zotero/Overleaf 插件对接。

### 5.2 团队分工

+ 项目经理：刘琪
+ NWU负责人：刘琪
+ HBU负责人：万睿晞
+ 工作原则
  + 文档很重要：边开发边撰写文档
  + 工具统一使用
    + Cursor
    + 单独购买成品号（淘宝）
  + 服务器
    + 暂不确定
+ 手机端开发
  + 张润哲 主导
  + 蔡杰浩
+ 云端服务器开发
  + 陈熠翎 主导
  + 刘琪
  + 吴海量
+ 整体文档统筹与需求分配
  + 万睿晞 主导
  + 刘琪
  + 格式需要统一
    + 手机端PRD
    + 云端PRD
    + 需要一一映射